<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Beam | Lecturer</title>
</head>
<body>
<h1>Lecturer Data</h1>
<input type = "text" placeholder = "Name" id = "nameField">
<input type = "text" placeholder = "Email" id = "emailField">
<input type = "text" placeholder = "Password" id = "passwordField">
<button onclick = "writeData()">Submit</button>
<p id = "Data"></p>
<script src ="https://www.gstatic.com/firebasejs/7.24.0/firebase.js"></script>
<script src ="https://www.gstatic.com/firebasejs/7.24.0/firebase-database.js"></script>
<script>
    var config = {
        apiKey: "AIzaSyBmrrr9ShVMaeS4aNV6gdK52fovQnLd1eA",
        authDomain: "beam-5845a.firebaseapp.com",
        databaseURL: "https://beam-5845a.firebaseio.com",
        projectId: "beam-5845a",
        storageBucket: "beam-5845a.appspot.com",
        messagingSenderId: "77499735722",
        appId: "1:77499735722:web:bfd8be3df0080bee077ad3",
        measurementId: "G-XKPK4PNM7W"
    };
    firebase.initializeApp(config);
    function writeData() {
        firebase.database().ref("Lecturer").set({
            Name: document.getElementById("nameField").value,
            Email: document.getElementById("emailField").value,
            Password: document.getElementById("passwordField").value
        });
        getData();
    }
    function getData() {
        firebase.database().ref('/').once('value', function(snapshot) {
            snapshot.forEach(function(userSnapshot)
            {
                var userKey = userSnapshot.key;
                var userData = userSnapshot.val();
                document.getElementById("Data").innerHTML = "Name: " + userData['Name'] + " Email: " + userData['Email'] + " Password: " + userData['Password'];
            })
        })
    }
    getData();
</script>
</body>
</html>
